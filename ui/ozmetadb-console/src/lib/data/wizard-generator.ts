/**
 * Dynamic Wizard Generator
 *
 * Generates wizard configurations dynamically from TableDef and ColumnDef metadata.
 * This allows any table defined in OZMetaDB to automatically have an AI-assisted
 * data entry wizard without hardcoding.
 *
 * NAMING CONVENTION:
 * - PK: {XX}_ID where XX is 2-char table prefix
 * - FK: {XXYY}_ID where XX is source table, YY is target table
 * - Columns: {XX}_{ColumnName}
 */

import {
  type TableDef,
  type ColumnDef,
  type ColumnDataType,
  type PickerType,
  SYSTEM_TABLES,
  CUSTOMER_COLUMNS,
  getTableColumns,
  getColumnsByGroup,
} from "./meta-schema";

import type { FieldDefinition, FieldType } from "./dimensions";

// ============================================================================
// COLUMN DEFINITIONS FOR ALL SYSTEM TABLES
// ============================================================================

const CONTACT_COLUMNS: ColumnDef[] = [
  {
    CL_ID: "cl-co-id",
    CLTB_ID: "tb-contact-001",
    CL_Code: "ID",
    CL_FullCode: "CO_ID",
    CL_Label: "Contact ID",
    CL_DataType: "uuid",
    CL_IsRequired: true,
    CL_IsUnique: true,
    CL_IsPrimaryKey: true,
    CL_IsForeignKey: false,
    CL_SortOrder: 1,
    CL_IsVisible: false,
    CL_IsEditable: false,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-type",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Type",
    CL_FullCode: "CO_Type",
    CL_Label: "Contact Type",
    CL_DataType: "enum",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "primary",
    CL_Options: [
      { value: "primary", label: "Primary" },
      { value: "billing", label: "Billing" },
      { value: "technical", label: "Technical" },
      { value: "support", label: "Support" },
      { value: "sales", label: "Sales" },
      { value: "legal", label: "Legal" },
      { value: "executive", label: "Executive" },
      { value: "other", label: "Other" },
    ],
    CL_Group: "Basic",
    CL_SortOrder: 2,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-firstname",
    CLTB_ID: "tb-contact-001",
    CL_Code: "FirstName",
    CL_FullCode: "CO_FirstName",
    CL_Label: "First Name",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Basic",
    CL_SortOrder: 3,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "First name",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-lastname",
    CLTB_ID: "tb-contact-001",
    CL_Code: "LastName",
    CL_FullCode: "CO_LastName",
    CL_Label: "Last Name",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Basic",
    CL_SortOrder: 4,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Last name",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-email",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Email",
    CL_FullCode: "CO_Email",
    CL_Label: "Email",
    CL_DataType: "email",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Contact",
    CL_SortOrder: 5,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "email@example.com",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-phone",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Phone",
    CL_FullCode: "CO_Phone",
    CL_Label: "Phone",
    CL_DataType: "phone",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "phone",
    CL_Group: "Contact",
    CL_SortOrder: 6,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "E.164 format",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-jobtitle",
    CLTB_ID: "tb-contact-001",
    CL_Code: "JobTitle",
    CL_FullCode: "CO_JobTitle",
    CL_Label: "Job Title",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Work",
    CL_SortOrder: 7,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-department",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Department",
    CL_FullCode: "CO_Department",
    CL_Label: "Department",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Work",
    CL_SortOrder: 8,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-language",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Language",
    CL_FullCode: "CO_Language",
    CL_Label: "Language",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "language",
    CL_Group: "Locale",
    CL_SortOrder: 9,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 639-1",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-timezone",
    CLTB_ID: "tb-contact-001",
    CL_Code: "Timezone",
    CL_FullCode: "CO_Timezone",
    CL_Label: "Timezone",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "timezone",
    CL_Group: "Locale",
    CL_SortOrder: 10,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "IANA timezone",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-isprimary",
    CLTB_ID: "tb-contact-001",
    CL_Code: "IsPrimary",
    CL_FullCode: "CO_IsPrimary",
    CL_Label: "Primary Contact",
    CL_DataType: "boolean",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "false",
    CL_Group: "Status",
    CL_SortOrder: 11,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-isactive",
    CLTB_ID: "tb-contact-001",
    CL_Code: "IsActive",
    CL_FullCode: "CO_IsActive",
    CL_Label: "Active",
    CL_DataType: "boolean",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "true",
    CL_Group: "Status",
    CL_SortOrder: 12,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-customer",
    CLTB_ID: "tb-contact-001",
    CL_Code: "CustomerID",
    CL_FullCode: "COCU_ID",
    CL_Label: "Customer",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-customer-001",
    CL_FKCode: "COCU_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 20,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-co-organization",
    CLTB_ID: "tb-contact-001",
    CL_Code: "OrganizationID",
    CL_FullCode: "COOR_ID",
    CL_Label: "Organization",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-organization-001",
    CL_FKCode: "COOR_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 21,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
];

const ADDRESS_COLUMNS: ColumnDef[] = [
  {
    CL_ID: "cl-ad-id",
    CLTB_ID: "tb-address-001",
    CL_Code: "ID",
    CL_FullCode: "AD_ID",
    CL_Label: "Address ID",
    CL_DataType: "uuid",
    CL_IsRequired: true,
    CL_IsUnique: true,
    CL_IsPrimaryKey: true,
    CL_IsForeignKey: false,
    CL_SortOrder: 1,
    CL_IsVisible: false,
    CL_IsEditable: false,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-type",
    CLTB_ID: "tb-address-001",
    CL_Code: "Type",
    CL_FullCode: "AD_Type",
    CL_Label: "Address Type",
    CL_DataType: "enum",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "work",
    CL_Options: [
      { value: "billing", label: "Billing" },
      { value: "shipping", label: "Shipping" },
      { value: "home", label: "Home" },
      { value: "work", label: "Work" },
      { value: "headquarters", label: "Headquarters" },
      { value: "branch", label: "Branch" },
      { value: "warehouse", label: "Warehouse" },
    ],
    CL_Group: "Location",
    CL_SortOrder: 2,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-line1",
    CLTB_ID: "tb-address-001",
    CL_Code: "Line1",
    CL_FullCode: "AD_Line1",
    CL_Label: "Address Line 1",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Location",
    CL_SortOrder: 3,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Street address",
    CL_GridVisible: true,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-line2",
    CLTB_ID: "tb-address-001",
    CL_Code: "Line2",
    CL_FullCode: "AD_Line2",
    CL_Label: "Address Line 2",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Location",
    CL_SortOrder: 4,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Apartment, suite, etc.",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-city",
    CLTB_ID: "tb-address-001",
    CL_Code: "City",
    CL_FullCode: "AD_City",
    CL_Label: "City",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Location",
    CL_SortOrder: 5,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-state",
    CLTB_ID: "tb-address-001",
    CL_Code: "State",
    CL_FullCode: "AD_State",
    CL_Label: "State/Province",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Location",
    CL_SortOrder: 6,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 3166-2",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-postalcode",
    CLTB_ID: "tb-address-001",
    CL_Code: "PostalCode",
    CL_FullCode: "AD_PostalCode",
    CL_Label: "Postal Code",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Location",
    CL_SortOrder: 7,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-country",
    CLTB_ID: "tb-address-001",
    CL_Code: "Country",
    CL_FullCode: "AD_Country",
    CL_Label: "Country",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "country",
    CL_Group: "Location",
    CL_SortOrder: 8,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 3166-1 alpha-2",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-timezone",
    CLTB_ID: "tb-address-001",
    CL_Code: "Timezone",
    CL_FullCode: "AD_Timezone",
    CL_Label: "Timezone",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "timezone",
    CL_Group: "Location",
    CL_SortOrder: 9,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "IANA timezone",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-isprimary",
    CLTB_ID: "tb-address-001",
    CL_Code: "IsPrimary",
    CL_FullCode: "AD_IsPrimary",
    CL_Label: "Primary Address",
    CL_DataType: "boolean",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "false",
    CL_Group: "Status",
    CL_SortOrder: 10,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-customer",
    CLTB_ID: "tb-address-001",
    CL_Code: "CustomerID",
    CL_FullCode: "ADCU_ID",
    CL_Label: "Customer",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-customer-001",
    CL_FKCode: "ADCU_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 20,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-contact",
    CLTB_ID: "tb-address-001",
    CL_Code: "ContactID",
    CL_FullCode: "ADCO_ID",
    CL_Label: "Contact",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-contact-001",
    CL_FKCode: "ADCO_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 21,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-ad-organization",
    CLTB_ID: "tb-address-001",
    CL_Code: "OrganizationID",
    CL_FullCode: "ADOR_ID",
    CL_Label: "Organization",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-organization-001",
    CL_FKCode: "ADOR_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 22,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
];

const ORGANIZATION_COLUMNS: ColumnDef[] = [
  {
    CL_ID: "cl-or-id",
    CLTB_ID: "tb-organization-001",
    CL_Code: "ID",
    CL_FullCode: "OR_ID",
    CL_Label: "Organization ID",
    CL_DataType: "uuid",
    CL_IsRequired: true,
    CL_IsUnique: true,
    CL_IsPrimaryKey: true,
    CL_IsForeignKey: false,
    CL_SortOrder: 1,
    CL_IsVisible: false,
    CL_IsEditable: false,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-type",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Type",
    CL_FullCode: "OR_Type",
    CL_Label: "Organization Type",
    CL_DataType: "enum",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "corporation",
    CL_Options: [
      { value: "corporation", label: "Corporation" },
      { value: "subsidiary", label: "Subsidiary" },
      { value: "branch", label: "Branch" },
      { value: "division", label: "Division" },
      { value: "partnership", label: "Partnership" },
      { value: "nonprofit", label: "Non-Profit" },
      { value: "government", label: "Government" },
    ],
    CL_Group: "Classification",
    CL_SortOrder: 2,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-status",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Status",
    CL_FullCode: "OR_Status",
    CL_Label: "Status",
    CL_DataType: "enum",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "active",
    CL_Options: [
      { value: "active", label: "Active" },
      { value: "inactive", label: "Inactive" },
      { value: "pending", label: "Pending" },
      { value: "dissolved", label: "Dissolved" },
      { value: "merged", label: "Merged" },
    ],
    CL_Group: "Classification",
    CL_SortOrder: 3,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-legalname",
    CLTB_ID: "tb-organization-001",
    CL_Code: "LegalName",
    CL_FullCode: "OR_LegalName",
    CL_Label: "Legal Name",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Identity",
    CL_SortOrder: 4,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Full legal name",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-tradingname",
    CLTB_ID: "tb-organization-001",
    CL_Code: "TradingName",
    CL_FullCode: "OR_TradingName",
    CL_Label: "Trading Name",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Identity",
    CL_SortOrder: 5,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "DBA name",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-taxid",
    CLTB_ID: "tb-organization-001",
    CL_Code: "TaxId",
    CL_FullCode: "OR_TaxId",
    CL_Label: "Tax ID",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Registration",
    CL_SortOrder: 6,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-website",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Website",
    CL_FullCode: "OR_Website",
    CL_Label: "Website",
    CL_DataType: "url",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Contact",
    CL_SortOrder: 7,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "https://",
    CL_GridVisible: true,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-email",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Email",
    CL_FullCode: "OR_Email",
    CL_Label: "Email",
    CL_DataType: "email",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Contact",
    CL_SortOrder: 8,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "email@org.com",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-phone",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Phone",
    CL_FullCode: "OR_Phone",
    CL_Label: "Phone",
    CL_DataType: "phone",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "phone",
    CL_Group: "Contact",
    CL_SortOrder: 9,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "E.164 format",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-country",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Country",
    CL_FullCode: "OR_Country",
    CL_Label: "Country",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "country",
    CL_Group: "Locale",
    CL_SortOrder: 10,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 3166-1 alpha-2",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-currency",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Currency",
    CL_FullCode: "OR_Currency",
    CL_Label: "Currency",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "currency",
    CL_Group: "Locale",
    CL_SortOrder: 11,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 4217",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-language",
    CLTB_ID: "tb-organization-001",
    CL_Code: "Language",
    CL_FullCode: "OR_Language",
    CL_Label: "Language",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "language",
    CL_Group: "Locale",
    CL_SortOrder: 12,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 639-1",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-or-parent",
    CLTB_ID: "tb-organization-001",
    CL_Code: "ParentID",
    CL_FullCode: "OROR_ID",
    CL_Label: "Parent Organization",
    CL_Description: "Parent organization for hierarchical structures",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-organization-001",
    CL_FKCode: "OROR_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 20,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
];

const PROJECT_COLUMNS: ColumnDef[] = [
  {
    CL_ID: "cl-pj-id",
    CLTB_ID: "tb-project-001",
    CL_Code: "ID",
    CL_FullCode: "PJ_ID",
    CL_Label: "Project ID",
    CL_DataType: "uuid",
    CL_IsRequired: true,
    CL_IsUnique: true,
    CL_IsPrimaryKey: true,
    CL_IsForeignKey: false,
    CL_SortOrder: 1,
    CL_IsVisible: false,
    CL_IsEditable: false,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-code",
    CLTB_ID: "tb-project-001",
    CL_Code: "Code",
    CL_FullCode: "PJ_Code",
    CL_Label: "Project Code",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: true,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Basic",
    CL_SortOrder: 2,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Short identifier",
    CL_MaxLength: 20,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-name",
    CLTB_ID: "tb-project-001",
    CL_Code: "Name",
    CL_FullCode: "PJ_Name",
    CL_Label: "Project Name",
    CL_DataType: "string",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Basic",
    CL_SortOrder: 3,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_Placeholder: "Project name",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-description",
    CLTB_ID: "tb-project-001",
    CL_Code: "Description",
    CL_FullCode: "PJ_Description",
    CL_Label: "Description",
    CL_DataType: "text",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_Group: "Basic",
    CL_SortOrder: 4,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-status",
    CLTB_ID: "tb-project-001",
    CL_Code: "Status",
    CL_FullCode: "PJ_Status",
    CL_Label: "Status",
    CL_DataType: "enum",
    CL_IsRequired: true,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_DefaultValue: "draft",
    CL_Options: [
      { value: "draft", label: "Draft" },
      { value: "planning", label: "Planning" },
      { value: "active", label: "Active" },
      { value: "on_hold", label: "On Hold" },
      { value: "completed", label: "Completed" },
      { value: "cancelled", label: "Cancelled" },
      { value: "archived", label: "Archived" },
    ],
    CL_Group: "Basic",
    CL_SortOrder: 5,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-timezone",
    CLTB_ID: "tb-project-001",
    CL_Code: "Timezone",
    CL_FullCode: "PJ_Timezone",
    CL_Label: "Timezone",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "timezone",
    CL_Group: "Settings",
    CL_SortOrder: 6,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "IANA timezone",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-language",
    CLTB_ID: "tb-project-001",
    CL_Code: "Language",
    CL_FullCode: "PJ_Language",
    CL_Label: "Language",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "language",
    CL_Group: "Settings",
    CL_SortOrder: 7,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 639-1",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-country",
    CLTB_ID: "tb-project-001",
    CL_Code: "Country",
    CL_FullCode: "PJ_Country",
    CL_Label: "Country",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "country",
    CL_Group: "Settings",
    CL_SortOrder: 8,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 3166-1 alpha-2",
    CL_GridVisible: true,
    CL_GridSortable: true,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-currency",
    CLTB_ID: "tb-project-001",
    CL_Code: "Currency",
    CL_FullCode: "PJ_Currency",
    CL_Label: "Currency",
    CL_DataType: "string",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: false,
    CL_PickerType: "currency",
    CL_Group: "Settings",
    CL_SortOrder: 9,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_HelpText: "ISO 4217",
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: true,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-customer",
    CLTB_ID: "tb-project-001",
    CL_Code: "CustomerID",
    CL_FullCode: "PJCU_ID",
    CL_Label: "Owner (Customer)",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-customer-001",
    CL_FKCode: "PJCU_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 20,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-contact",
    CLTB_ID: "tb-project-001",
    CL_Code: "ContactID",
    CL_FullCode: "PJCO_ID",
    CL_Label: "Primary Contact",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-contact-001",
    CL_FKCode: "PJCO_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 21,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
  {
    CL_ID: "cl-pj-organization",
    CLTB_ID: "tb-project-001",
    CL_Code: "OrganizationID",
    CL_FullCode: "PJOR_ID",
    CL_Label: "Organization",
    CL_DataType: "uuid",
    CL_IsRequired: false,
    CL_IsUnique: false,
    CL_IsPrimaryKey: false,
    CL_IsForeignKey: true,
    CLTB_RefID: "tb-organization-001",
    CL_FKCode: "PJOR_ID",
    CL_Group: "Relationships",
    CL_SortOrder: 22,
    CL_IsVisible: true,
    CL_IsEditable: true,
    CL_GridVisible: false,
    CL_GridSortable: false,
    CL_GridFilterable: false,
    CL_CreatedAt: new Date().toISOString(),
    CL_UpdatedAt: new Date().toISOString(),
  },
];

// ============================================================================
// ALL COLUMNS REGISTRY
// ============================================================================

export const ALL_COLUMNS: ColumnDef[] = [
  ...CUSTOMER_COLUMNS,
  ...CONTACT_COLUMNS,
  ...ADDRESS_COLUMNS,
  ...ORGANIZATION_COLUMNS,
  ...PROJECT_COLUMNS,
];

// ============================================================================
// TYPE CONVERTERS
// ============================================================================

/**
 * Convert ColumnDataType to FieldType for form rendering
 */
function columnDataTypeToFieldType(
  dataType: ColumnDataType,
  pickerType?: PickerType,
  isForeignKey?: boolean
): FieldType {
  if (isForeignKey) return "fk";
  if (pickerType) return "picker";

  switch (dataType) {
    case "string":
      return "text";
    case "text":
      return "textarea";
    case "integer":
    case "decimal":
      return "number";
    case "boolean":
      return "checkbox";
    case "date":
      return "date";
    case "datetime":
      return "datetime";
    case "email":
      return "email";
    case "url":
      return "url";
    case "phone":
      return "phone";
    case "currency":
      return "currency";
    case "enum":
      return "select";
    case "uuid":
    case "json":
    case "time":
    default:
      return "text";
  }
}

/**
 * Convert ColumnDef to FieldDefinition for form rendering
 */
export function columnToFieldDefinition(column: ColumnDef): FieldDefinition {
  const fieldType = columnDataTypeToFieldType(
    column.CL_DataType,
    column.CL_PickerType,
    column.CL_IsForeignKey
  );

  // Get the FK table code from the referenced table
  let fkTable: string | undefined;
  if (column.CL_IsForeignKey && column.CLTB_RefID) {
    const refTable = SYSTEM_TABLES.find((t) => t.TB_ID === column.CLTB_RefID);
    fkTable = refTable?.TB_Code;
  }

  return {
    name: column.CL_IsForeignKey ? column.CL_FKCode || column.CL_FullCode : column.CL_FullCode,
    label: column.CL_Label,
    type: fieldType,
    required: column.CL_IsRequired && !column.CL_IsPrimaryKey,
    placeholder: column.CL_Placeholder,
    defaultValue: column.CL_DefaultValue,
    options: column.CL_Options?.map((opt) => ({
      value: opt.value,
      label: opt.label,
    })),
    validation: {
      min: column.CL_MinValue,
      max: column.CL_MaxValue,
      minLength: column.CL_MinLength,
      maxLength: column.CL_MaxLength,
      pattern: column.CL_Pattern,
    },
    pickerType: column.CL_PickerType,
    helpText: column.CL_HelpText,
    group: column.CL_Group,
    isForeignKey: column.CL_IsForeignKey,
    fkTable,
  };
}

// ============================================================================
// DYNAMIC WIZARD CONFIG
// ============================================================================

export interface DynamicWizardStep {
  id: string;
  title: string;
  fields: FieldDefinition[];
}

export interface DynamicWizardConfig {
  tableCode: string;
  tableId: string;
  tableName: string;
  description: string;
  icon: string;
  color: string;
  steps: DynamicWizardStep[];
}

/**
 * Generate wizard configuration from TableDef
 * Reads column definitions and groups them into wizard steps
 */
export function generateWizardConfig(table: TableDef): DynamicWizardConfig {
  // Get all columns for this table
  const tableColumns = ALL_COLUMNS.filter(
    (col) => col.CLTB_ID === table.TB_ID
  );

  // Filter to only visible and editable columns (exclude PKs)
  const editableColumns = tableColumns
    .filter((col) => col.CL_IsVisible && col.CL_IsEditable && !col.CL_IsPrimaryKey)
    .sort((a, b) => a.CL_SortOrder - b.CL_SortOrder);

  // Group columns by CL_Group
  const groups = new Map<string, ColumnDef[]>();
  for (const col of editableColumns) {
    const groupName = col.CL_Group || "General";
    if (!groups.has(groupName)) {
      groups.set(groupName, []);
    }
    groups.get(groupName)!.push(col);
  }

  // Convert to wizard steps
  const steps: DynamicWizardStep[] = Array.from(groups.entries()).map(
    ([groupName, columns]) => ({
      id: groupName.toLowerCase().replace(/\s+/g, "-"),
      title: groupName,
      fields: columns.map(columnToFieldDefinition),
    })
  );

  return {
    tableCode: table.TB_Code,
    tableId: table.TB_ID,
    tableName: table.TB_Name,
    description: table.TB_Description || `Create a new ${table.TB_Name.toLowerCase()} record`,
    icon: table.TB_Icon || "File",
    color: table.TB_Color || "blue",
    steps,
  };
}

/**
 * Get all tables that have wizards enabled
 */
export function getWizardEnabledTables(): TableDef[] {
  return SYSTEM_TABLES.filter((table) => table.TB_HasWizard && table.TB_IsActive);
}

/**
 * Generate all wizard configurations for enabled tables
 */
export function generateAllWizardConfigs(): Map<string, DynamicWizardConfig> {
  const configs = new Map<string, DynamicWizardConfig>();
  for (const table of getWizardEnabledTables()) {
    configs.set(table.TB_Code.toLowerCase(), generateWizardConfig(table));
  }
  return configs;
}

/**
 * Get wizard config by table code (e.g., "CU", "CO", "AD")
 */
export function getWizardConfigByCode(tableCode: string): DynamicWizardConfig | undefined {
  const table = SYSTEM_TABLES.find(
    (t) => t.TB_Code.toLowerCase() === tableCode.toLowerCase() && t.TB_HasWizard
  );
  if (!table) return undefined;
  return generateWizardConfig(table);
}

// ============================================================================
// SMART DEFAULTS (browser-based auto-detection)
// ============================================================================

/**
 * Generate smart defaults based on browser locale and field prefixes
 */
export function getSmartDefaults(): Record<string, unknown> {
  const browserLang =
    typeof navigator !== "undefined" ? navigator.language : "en-US";
  const langCode = browserLang.split("-")[0];
  const regionCode = browserLang.split("-")[1]?.toUpperCase() || "US";

  const timezone =
    typeof Intl !== "undefined"
      ? Intl.DateTimeFormat().resolvedOptions().timeZone
      : "America/New_York";

  const currencyMap: Record<string, string> = {
    US: "USD",
    CA: "CAD",
    GB: "GBP",
    EU: "EUR",
    DE: "EUR",
    FR: "EUR",
    ES: "EUR",
    IT: "EUR",
    JP: "JPY",
    CN: "CNY",
    AU: "AUD",
    NZ: "NZD",
    MX: "MXN",
    BR: "BRL",
    IN: "INR",
    KR: "KRW",
    CH: "CHF",
    SE: "SEK",
    NO: "NOK",
    DK: "DKK",
    PL: "PLN",
    CZ: "CZK",
    HU: "HUF",
    RU: "RUB",
    ZA: "ZAR",
    SG: "SGD",
    HK: "HKD",
    TW: "TWD",
    TH: "THB",
    MY: "MYR",
    PH: "PHP",
    ID: "IDR",
    VN: "VND",
    AE: "AED",
    SA: "SAR",
    IL: "ILS",
    TR: "TRY",
    EG: "EGP",
    NG: "NGN",
    KE: "KES",
    AR: "ARS",
    CL: "CLP",
    CO: "COP",
    PE: "PEN",
  };
  const currency = currencyMap[regionCode] || "USD";

  // Generate defaults for all table prefixes
  return {
    // Customer (CU)
    CU_Language: langCode,
    CU_Timezone: timezone,
    CU_Country: regionCode,
    CU_Currency: currency,
    CU_Status: "prospect",
    CU_Type: "business",

    // Contact (CO)
    CO_Language: langCode,
    CO_Timezone: timezone,
    CO_Type: "primary",
    CO_IsActive: true,
    CO_IsPrimary: false,

    // Project (PJ)
    PJ_Status: "draft",
    PJ_Timezone: timezone,
    PJ_Language: langCode,
    PJ_Country: regionCode,
    PJ_Currency: currency,

    // Address (AD)
    AD_Type: "work",
    AD_Country: regionCode,
    AD_Timezone: timezone,
    AD_IsPrimary: false,

    // Organization (OR)
    OR_Status: "active",
    OR_Type: "corporation",
    OR_Country: regionCode,
    OR_Currency: currency,
    OR_Language: langCode,
  };
}

// ============================================================================
// EXPORTS FOR COLUMNS
// ============================================================================

export {
  CUSTOMER_COLUMNS,
  CONTACT_COLUMNS,
  ADDRESS_COLUMNS,
  ORGANIZATION_COLUMNS,
  PROJECT_COLUMNS,
};
